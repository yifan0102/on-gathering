<!DOCTYPE html>
<html lang="en">
<head>
    <title>Gathering Robert Adams</title>
    <script src="https://cdn.jsdelivr.net/gh/alvinashiatey/Sheets@latest/dist/sheets.umd.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
    <body>
        <div class="page">
            <div class="scroll-wrapper">
                <div class="scroll-container">
    
                </div>
            </div>
        </div>
        <script>
            const sheetID = "1v1Vzv_85Q4tBf9EXoAvCp7nkQVPhieapuhWnk6ngAFs";
            const page = document.querySelector(".page");
            const sheet = new Sheets(sheetID);
            sheet.getMyData().then(function(data){
                console.log(data);
                const title = document.createElement("h1");
                title.innerText = data["Header-Title"];
                page.appendChild(title);

                const description = document.createElement("p");
                description.innerText = data["Meta-Description"];
                page.appendChild(description);

                const collapsedRows = sheet.collapseKeys(
                    "UL-Date", 
                    "UL-Images", 
                    "UL-Project"
                    );

                    for (const row of collapsedRows){
                       sheet.createElement({
                           tag: "div",
                           children: [
                               { tag: "div",
                                children: [
                                    {tag: "h2", content: row["UL-Date"]},
                                    {tag: "p", content: row["UL-Project"]},
                                    {
                                        tag: "img",
                                        attributes: {
                                         src: row["UL-Images"],
                                    },
                                   },
                                  ],
                                 },
                                ],
                               })
                               .appendTo(".scroll-container")
                        }

                        for (const row of collapsedRows){
                       sheet.createElement({
                           tag: "div",
                           children: [
                               { tag: "div",
                                children: [
                                    {tag: "h2", content: row["UL-Date"]},
                                    {tag: "p", content: row["UL-Project"]},
                                    {
                                        tag: "img",
                                        attributes: {
                                         src: row["UL-Images"],
                                    },
                                   },
                                  ],
                                 },
                                ],
                               })
                               .appendTo(".scroll-container")
                        }
                      });

                      var hourly = "#ff00cc,red,green,blue...".split(",")
                      var d = new Date();
                      var h = d.getHours();
                      $('body').css('background-color',hourly[h])
                      
                    </script>
                </body>
</html>